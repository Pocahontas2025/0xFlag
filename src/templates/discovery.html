{% extends "base.html" %}

{% block title %}0xFlag - Discovery{% endblock %}

{% block content %}
<div class="container px-5 my-5">
  <div class="text-center text-white mb-5">
    <h1 class="fw-bolder">Discovery (Directorios)</h1>
    <p class="lead text-white-50">Generaci√≥n de comandos para descubrimiento de directorios</p>
  </div>
  
  <div class="row justify-content-center">
    <div class="col-lg-7">
      
      <div class="card bg-secondary text-white border-0 shadow">
        <div class="card-body p-4">
          
          <form onsubmit="event.preventDefault();">
            
            <!-- URL -->
            <div class="mb-3">
              <label class="form-label fw-bold">URL objetivo</label>
              <input
              type="text"
              id="disco_url"
              class="form-control bg-dark text-white border-0"
              placeholder="http://10.10.10.55"
              value="{% if config and config.target_ip %}http://{{ config.target_ip }}{% endif %}"
              required>
              <div class="form-text text-white-50">
                Se recomienda incluir http:// o https://
              </div>
            </div>
            
            <!-- Wordlist -->
            <div class="mb-3">
              <label class="form-label fw-bold">Diccionario (wordlist)</label>
              <input
              type="text"
              id="disco_wordlist"
              class="form-control bg-dark text-white border-0"
              placeholder="/usr/share/wordlists/dirb/common.txt"
              value="{{ config.wordlist if config and config.wordlist else '/usr/share/wordlists/dirb/common.txt' }}"
              required>
            </div>
            
            <!-- Extensiones -->
            <div class="mb-3">
              <label class="form-label fw-bold">Extensiones (opcional)</label>
              <input
              type="text"
              id="disco_extensions"
              class="form-control bg-dark text-white border-0"
              placeholder="php,txt,html">
              <div class="form-text text-white-50">
                Separadas por comas (ej: php,txt)
              </div>
            </div>
            
            <!-- Tool -->
            <div class="mb-4">
              <label class="form-label fw-bold">Herramienta</label>
              <select class="form-select bg-dark text-white border-0" id="disco_tool">
                <option value="gobuster">gobuster</option>
                <option value="ffuf">ffuf</option>
                <option value="dirsearch">dirsearch</option>
              </select>
            </div>
            
          </form>
        </div>
      </div>
      
      <div class="terminal-output mt-4" id="disco-output-container" style="display:none;">
        <div class="output-header">
          <span class="fw-bold">&gt; Comando Generado:</span>
          <button class="btn-copy" id="btn-disco-copy" type="button" data-target="disco-output-text">
            <i class="bi bi-clipboard"></i> Copiar
          </button>
        </div>
        
        <div 
        id="disco-output-text" 
        class="font-monospace text-break mt-2" 
        style="outline: none; background: transparent; color: #00ff00;">
        Esperando datos...
      </div>
    </div>

    </div>
  </div>
</div>
{% endblock %}